QActor smartdevice_test context ctx_smartdevice_test {
	State state_init initial {
		println("[SmartDevice_Test] Initialize")
	}
	Goto state_request
	
	
	State state_request {
		println("[SmartDevice_Test] Sending a store request to WasteService...")
		request wasteservice -m storerequest: storerequest(_)
	}
	Transition t0	whenReply loadaccepted			-> state_handle_accepted
					whenReply loadrejected			-> state_handle_rejected
	
	State state_handle_accepted {
		println("[SmartDevice_Test] Store request accepted. Waiting for pickupt...")
		delay 2000
	}
	Goto state_request
	
	State state_handle_rejected {
		println("[SmartDevice_Test] Store request rejected. I'm leaving the INDOOR...")
	}
	Goto state_request
}